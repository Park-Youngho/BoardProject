<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시판 메인</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</head>
<body>
<div class="container" style="max-width: 1200px;" >
    <h1 class="text-center pt-5">게시판</h1>

    <div class="row">
        <div class="col">
            <button class="btn btn-secondary float-end "
                    onclick="location.href='/write.html'"
                    th:onclick="|location.href='@{/write}'|">
                글쓰기
            </button>

            <button class="btn btn-primary float-end me-2"
                    onclick="location.href='login.html'"
                    th:onclick="|location.href='@{/login}'|">
                로그인
            </button>

        </div>
    </div>

    <table class="table mt-3">
        <thead class="table-light">
        <tr>
            <th class="text-center" >번호</th>
            <th class="text-center" >제목</th>
            <th class="text-center">작성자</th>
            <th class="text-center">작성일</th>
            <th class="text-center">조회수</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="post : ${posts}">
            <td class="text-center">
                <a th:text="${post.id}" th:href="@{/view/{id}(id=${post.id})}"></a>
            </td>
            <td class="text-center">
                <a  th:text="${post.title}" th:href="@{/view/{id}(id=${post.id})}"></a>
            </td>
            <td class="text-center" th:text="${post.username}"></td>
            <td class="text-center" th:text="${post.createDate}"></td>
            <td class="text-center">0</td>
        </tr>
        </tbody>
    </table>
    <div class="container my-3">
        <!-- 페이징처리 시작 -->
        <div th:if="${posts}">
            <ul class="pagination justify-content-center">
                <li class="page-item" th:classappend="${!posts.hasPrevious} ? 'disabled'">
                    <a class="page-link" th:href="@{|?page=${posts.getNumber()-1}|}">
                        <span>이전</span>
                    </a>
                </li>
                <li th:each="page: ${#numbers.sequence(0, posts.getTotalPages()-1)}"
                    th:if="${page >= posts.getNumber()-5 and page <= posts.getNumber()+5}"
                    th:classappend="${page == posts.getNumber()} ? 'active'" class="page-item">
                    <a th:text="${page}" class="page-link" th:href="@{|?page=${page}|}"></a>
                </li>
                <li class="page-item" th:classappend="${!posts.hasNext} ? 'disabled'">
                    <a class="page-link" th:href="@{|?page=${posts.getNumber()+1}|}">
                        <span>다음</span>
                    </a>
                </li>
            </ul>
        </div>
        <!-- 페이징처리 끝 -->
    </div>
</div>
</body>
</html>
